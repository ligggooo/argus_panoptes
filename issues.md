# jiliang_monitor

*集成组后台运维管理系统*

1. QueuePool达到最大连接数问题
    可能是链接未及时释放导致
    也可能是postgres或者sql alchemy设置不当导致
        updated 2021/3/10:
            1）session 用完之后及时关闭 用expunge或者freeze来保存信息
            2）使用缓存机制减少对数据库的直接访问
2. 偶尔会出现记录丢失
    丢失之后怎么容错
    如何降低丢失的几率
        updated 2021/3/7:
            1）日志丢失导致树的割裂暂时无解
            2）日志入库顺序打乱引起的树构造错误已经通过增加代码解决
            3）装饰器标错（cross_process标在normal上）导致树节点错挂，暂时无解
3. task的前端呈现需要更清晰
    任务起始时间+树形展开
        updated 2021/3/10:
            1）起始时间统计需要后端merge records时增加一项
            2）树形表示需要使用element UI的树形控件或者echarts的树图支持
4. 节点记录状态融合和最终呈现信息之间的处理过程混乱
    有必要进行一次重构，将信息加工过程的逻辑梳理清楚
    前端显示需要重新设计，将状态+错误+辅助信息以不同的颜色分栏列出
